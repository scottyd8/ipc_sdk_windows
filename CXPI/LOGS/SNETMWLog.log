{INFO}{2016-10-20 18:14:19,766} – Starting Worldpay MW Service
{INFO}{2016-10-20 18:14:29,364} – Worldpay MW Service (v1.0.0.39) started
Verifone VX805
Device Programming Interface:  CXPI
Device Config (v1.0.0.11)
Listening at http://localhost:9063
{INFO}{2016-10-20 18:14:36,983} – Payments Controller - Authorize: Started
{INFO}{2016-10-20 18:14:36,987} – Transaction attempt 1 of 3
{INFO}{2016-10-20 18:14:52,383} – Terminal Verification Results:  0200208000
{INFO}{2016-10-20 18:14:52,386} – Cardholder Verification List: 0000000000000000420141035E035F030000000000000000
{INFO}{2016-10-20 18:14:52,388} – Cardholder Verification Method Result: 5E0300
{INFO}{2016-10-20 18:14:54,894} – Cardholder Verification List: 0000000000000000420141035E035F030000000000000000
{INFO}{2016-10-20 18:14:54,894} – Cardholder Verification Method Result: 5E0300
{INFO}{2016-10-20 18:14:54,894} – Terminal Verification Results:  0200208000
{INFO}{2016-10-20 18:14:54,915} – Port 9 opened
Command Name:  72
ACK Received
Verifone VX805 Device connected to port 9
Command Name:  M40
ACK Received
Command Response:
02 4D 34 30 1C 57 4F 52 4C 44 50 41 59 44 45 56 49 43 45 43 4F 4E 46 49 47 56 45 52 53 49 4F 4E 3D 31 2E 30 2E 30 2E 31 31 1C 03 2A
Total Elapsed Time:  503

Command Name:  E00
ACK Received
Command Response:
02 45 30 31 4E 4F 45 03 03
Total Elapsed Time:  499

Encryption Mode:  NOE
Command Name:  S95
ACK Received
Command Response:
02 53 39 35 30 30 1D 31 31 56 58 38 30 35 20 50 49 4E 50 41 44 1C 31 32 31 32 2E 30 34 2E 31 36 1C 31 33 58 43 41 4D 55 53 32 35 30 1C 31 34 37 30 30 1C 31 35 33 32 38 35 37 31 36 39 31 1C 31 36 51 54 38 35 30 32 34 35 1C 31 37 1C 31 38 33 32 38 2D 35 37 31 2D 36 39 31 1C 31 39 4D 32 38 30 2D 37 30 33 2D 41 42 2D 03 27
Total Elapsed Time:  499

Encryption Mode:  NOE
Command Name:  C30
ACK Received
Command Response:
02 43 33 31 30 30 00 85 57 13 37 42 45 00 17 21 00 9D 17 03 20 11 50 41 23 45 00 00 0F 5A 08 37 42 45 00 17 21 00 9F 4F 08 A0 00 00 00 25 01 08 01 50 10 41 4D 45 52 49 43 41 4E 20 45 58 50 52 45 53 53 5F 30 02 02 01 5F 20 10 41 45 49 50 53 20 32 33 2F 56 45 52 20 32 2E 30 5F 24 03 17 03 31 9F 33 03 E0 F8 C8 5F 34 01 02 5F 25 03 15 04 01 5F 28 02 08 26 5F 2D 02 65 6E 5F 56 03 00 00 00 9A 03 16 10 21 9F 39 01 05 C2 01 31 03 8B
Total Elapsed Time:  5729

Card Read Status #1:  Success
Initial Card Read Status:  Success
Device PosEntryMode:05
Found PARTIAL match on A0000000250108 for 4F_ApplicationIdentifier A000000025010801, Partial Match Type = CREDIT, IsDebit = 0
Command Name:  S23
ACK Received
Command Response:
02 53 32 33 30 30 1C 33 32 38 35 37 31 36 39 31 1C 31 1C 30 1C 1C 30 1C 1C 30 1C 1C 30 03 48
Total Elapsed Time:  771

Command Name:  C32
ACK Received
Command Response:
02 43 33 33 30 30 01 16 C2 01 01 C2 01 00 95 05 02 00 20 80 00 9B 02 E8 00 9F 27 01 80 9F 26 08 40 19 8D 19 14 3B 73 AD 9F 36 02 00 20 E2 81 ED 9F 06 08 A0 00 00 00 25 01 08 01 82 02 5C 00 5F 34 01 02 9F 35 01 22 9F 09 02 00 01 84 08 A0 00 00 00 25 01 08 01 9F 10 07 06 02 01 03 A0 E8 00 9F 33 03 E0 F8 C8 8E 18 00 00 00 00 00 00 00 00 42 01 41 03 5E 03 5F 03 00 00 00 00 00 00 00 00 9F 0D 05 FC 50 EC A8 00 9F 0E 05 00 00 00 00 00 9F 0F 05 FC 78 FC F8 00 9F 1A 02 08 40 5F 2A 02 08 40 9F 37 04 E5 BF 31 A5 50 10 41 4D 45 52 49 43 41 4E 20 45 58 50 52 45 53 53 5F 2D 02 65 6E 9C 01 00 9F 02 06 00 00 00 00 03 00 9F 34 03 5E 03 00 5A 08 37 42 45 00 17 21 00 9F 5F 24 03 17 03 31 57 13 37 42 45 00 17 21 00 9D 17 03 20 11 50 41 23 45 00 00 0F 4F 08 A0 00 00 00 25 01 08 01 5F 20 10 41 45 49 50 53 20 32 33 2F 56 45 52 20 32 2E 30 9A 03 16 10 21 9F 39 01 05 31 03 6C
Total Elapsed Time:  797

Command Name:  C36
ACK Received
Command Response:
02 43 33 36 30 30 01 05 E2 82 01 01 9F 03 06 00 00 00 00 00 00 9F 06 08 A0 00 00 00 25 01 08 01 82 02 5C 00 5F 34 01 02 9F 35 01 22 9F 09 02 00 01 84 08 A0 00 00 00 25 01 08 01 9F 10 07 06 02 01 03 A0 E8 00 8E 18 00 00 00 00 00 00 00 00 42 01 41 03 5E 03 5F 03 00 00 00 00 00 00 00 00 9F 0D 05 FC 50 EC A8 00 9F 0E 05 00 00 00 00 00 9F 0F 05 FC 78 FC F8 00 9F 33 03 E0 F8 C8 9F 1A 02 08 40 5F 2A 02 08 40 9F 37 04 E5 BF 31 A5 50 10 41 4D 45 52 49 43 41 4E 20 45 58 50 52 45 53 53 5F 2D 02 65 6E 9C 01 00 9F 02 06 00 00 00 00 03 00 9F 34 03 5E 03 00 5A 08 37 42 45 00 17 21 00 9F 5F 24 03 17 03 31 57 13 37 42 45 00 17 21 00 9D 17 03 20 11 50 41 23 45 00 00 0F 4F 08 A0 00 00 00 25 01 08 01 5F 20 10 41 45 49 50 53 20 32 33 2F 56 45 52 20 32 2E 30 9A 03 16 10 21 9F 39 01 05 95 05 02 00 20 80 00 9F 17 01 00 03 F9
Total Elapsed Time:  500

9F34 CardholderVerificationMethod: 5E0300
IsOnlineEncipheredPIN:  False
IsOfflineEncipheredPIN:  False
Transaction Status Information (TSI):  E800

{INFO}{2016-10-20 18:14:55,238} – Payments Controller - Authorize (Request Json):  {
  "httpHeaders": [
    {
      "Key": "Connection",
      "Value": [
        "Keep-Alive"
      ]
    },
    {
      "Key": "Accept-Encoding",
      "Value": [
        "gzip",
        "deflate"
      ]
    },
    {
      "Key": "Authorization",
      "Value": [
        "Basic ODAwNTgxMTpiUU41Nnk4LzRjYks="
      ]
    },
    {
      "Key": "Host",
      "Value": [
        "localhost:9063"
      ]
    },
    {
      "Key": "User-Agent",
      "Value": [
        "Apache-HttpClient/4.1.1",
        "(java 1.5)"
      ]
    }
  ],
  "Amount": 3.00,
  "Card": {
    "trackData": "374245001721009D170320115041234500000",
    "number": "374245001721009F",
    "cvv": null,
    "expirationDate": "0317",
    "ksn": null,
    "pinBlock": null,
    "firstName": "23",
    "lastName": "AEIPS",
    "address": null,
    "signature": null,
    "email": null,
    "emailReceipt": false,
    "Emv": {
      "ApplicationCryptogram": "40198D19143B73AD",
      "ApplicationInterchangeProfile": "5C00",
      "ApplicationTransactionCounter": "0020",
      "ApplicationVersionNumber": "0001",
      "CardSequenceNumber": "02",
      "CardholderVerificationMethod": "5E0300",
      "CryptogramCashBackAmount": "000000000000",
      "CryptogramInformationData": "80",
      "CryptogramTerminalCountryCode": "0840",
      "CryptogramTransactionAmount": "000000000300",
      "CryptogramTransactionDate": "161021",
      "CryptogramTransactionTime": null,
      "CryptogramTransactionType": "00",
      "CryptogramTransactioncurrencyCode": "0840",
      "CustomerExclusiveData": null,
      "DedicatedFileName": "A000000025010801",
      "FormFactorIndicator": null,
      "IFDSerialNumber": "0000000328571691",
      "IssuerApplicationData": "06020103A0E800",
      "IssuerAuthenticationData": null,
      "IssuerScriptResult": null,
      "TerminalCapabilityProfile": "E0F8C8",
      "TerminalType": "22",
      "TerminalVerificationResults": "0200208000",
      "Track2EquivalentDataChip": "374245001721009D170320115041234500000",
      "UnpredictableNumber": "E5BF31A5",
      "ApplicationIdentifier": "A000000025010801",
      "TransactionStatusIndicator": "E800",
      "ApplicationName": "AMERICAN EXPRESS",
      "CardEntryMode": "05",
      "AuthorizationMode": null,
      "CardholderVerification": null,
      "PINTriesRemaining": "00"
    },
    "FallbackIndicator": "0",
    "ContactlessIndicator": "0",
    "IsDebit": "0",
    "CardKsn": ""
  },
  "PaymentVaultToken": null,
  "AddToVault": false,
  "AddToVaultOnFailure": false,
  "CashBackAmount": 0.00,
  "AllowPartialChanges": false,
  "TransactionDuplicateCheckIndicator": 0,
  "OrderId": null,
  "Encryption": null,
  "ExtendedInformation": {
    "typeOfGoods": null,
    "additionalTerminalInfo": {
      "DeviceSerialNumber": "328571691",
      "terminalId": "00008177",
      "terminalCity": null,
      "terminalState": null,
      "terminalLocation": null,
      "storeNumber": "12345678",
      "kernalVersionNo": "700",
      "Emv": null,
      "POSTerminalInputCapabilityInd": "5"
    },
    "levelTwoData": null,
    "levelThreeData": null,
    "deviceCode": null,
    "entrySource": "MW1.0.0.39",
    "mailOrTelephoneOrderData": null,
    "serviceData": null,
    "userDefinedFields": null,
    "notes": null,
    "invoiceNumber": null,
    "invoiceDescription": null
  },
  "CardStatementLabel": null,
  "Ebt": null,
  "Check": null,
  "ReferenceTransactionId": 0,
  "TransactionId": 0,
  "TransactionTypeAction": 0,
  "VoidType": 0,
  "DeveloperApplication": {
    "developerId": 12345678,
    "version": "1.2",
    "integrationType": "1"
  }
}
{INFO}{2016-10-20 18:15:11,762} – Payments Controller - Authorize (Response Json):  {
  "transaction": {
    "secureNetId": 8005811,
    "transactionType": "AUTH",
    "orderId": "AP80058112010161914453327",
    "transactionId": 115502551,
    "authorizationCode": "",
    "authorizedAmount": 3.0,
    "allowedPartialCharges": false,
    "paymentTypeCode": "AX",
    "paymentTypeResult": "CREDIT_CARD",
    "level2Valid": false,
    "level3Valid": false,
    "transactionData": {
      "date": "2016-10-20T23:15:00Z",
      "amount": 3.0
    },
    "settlementData": null,
    "vaultData": null,
    "creditCardType": "AMEX",
    "cardNumber": "XXXXXXXXXXX 1009",
    "avsCode": "0",
    "avsResult": "NOT_CHECKED",
    "cardHolder_FirstName": "23",
    "cardHolder_LastName": "AEIPS",
    "expirationDate": "0317",
    "billAddress": {
      "line1": "",
      "city": "",
      "state": "",
      "zip": "",
      "country": "",
      "company": "",
      "phone": ""
    },
    "email": "",
    "phone": null,
    "company": null,
    "cardCodeCode": "0",
    "cardCodeResult": "NOT_CHECKED",
    "accountName": null,
    "accountType": null,
    "accountNumber": null,
    "checkNumber": null,
    "traceNumber": null,
    "surchargeAmount": 0.0,
    "cashbackAmount": 0.0,
    "fnsNumber": null,
    "voucherNumber": null,
    "fleetCardInfo": null,
    "gratuity": 0.0,
    "industrySpecificData": "0",
    "marketSpecificData": "",
    "networkCode": "",
    "additionalAmount": 0.0,
    "additionalData1": null,
    "additionalData2": null,
    "additionalData3": null,
    "additionalData4": "",
    "additionalData5": "",
    "method": "CC",
    "imageResult": null,
    "applicationIdentifier": "A000000025010801",
    "terminalVerificationResults": "0200208000",
    "transactionStatusIndicator": "E800",
    "currency": null,
    "applicationName": "AMERICAN EXPRESS",
    "cardEntryMode": "05",
    "cardHolderVerification": "5E0300",
    "authorizationMode": "Online",
    "applicationPAN": null,
    "issuerApplicationData": "06020103A0E800",
    "emvauth_Responsecode": null
  },
  "success": false,
  "result": "DECLINE",
  "responseCode": 2,
  "message": "DECLINED - PROCESSOR ERROR",
  "responseDateTime": "2016-10-20T23:14:45.31Z",
  "rawRequest": null,
  "rawResponse": null,
  "jsonRequest": null,
  "emvResponse": {
    "emvAuthResponseCode": null,
    "issuerAuthenticationData": null,
    "issuerScriptTemplate1": null,
    "issuerScriptTemplate2": null
  }
}
{ERROR}{2016-10-20 18:15:18,813} – Payments Controller-PrintReceipt -> Exception:  Could not find a part of the path 'D:\Proj\Hackathon\CXPI\RECEIPTS\115502551_Authorize_receipt.txt'.

   at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)
   at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)
   at System.IO.StreamWriter.CreateFile(String path, Boolean append, Boolean checkHost)
   at System.IO.StreamWriter..ctor(String path, Boolean append, Encoding encoding, Int32 bufferSize, Boolean checkHost)
   at System.IO.StreamWriter..ctor(String path, Boolean append)
   at APILibrary.ReceiptService.PrintReceipt(EMVRequest request, EMVSecureNetResponse response, Message msg)
{INFO}{2016-10-20 18:15:18,813} – Payments Controller - ProcessSemiTransaction(EMVRequest request) Authorize: Completed
